import{c as j,e as $,A as H,t as W,d as q,r as v,a as n,W as O,i as X,X as Y,w as Z,Y as z,h as G,o as b,p as J,q as p,Z as ee,P as s,Q as A,v as I,z as y,S as L,s as te,F as P,O as oe,_ as ae,x as U,M as ne,U as se,V as ce}from"./index-CBCQ6Rvf.js";import{g as le,S as re,T as ie,a as ue,b as pe,c as de,d as _e}from"./search-BdvZ7yJg.js";import"./index-DJ23qM7C.js";import{f as M,F as me}from"./index-B4mHbKYr.js";import{B as he,m as fe}from"./vantTool-CkeqZ_5i.js";import{P as ve}from"./index-l_Y4M4gX.js";import{_ as Q}from"./_plugin-vue_export-helper-Cmma1cYV.js";import{u as be}from"./use-id-gROM3XTf.js";import{u as ge}from"./use-expose-C8j5eqMI.js";import"./use-route-CObrCZIx.js";import"./interceptor-BBcVuyCw.js";import"./request-fy6jD9Fe.js";const[ke,V,we]=j("search"),Ie=$({},M,{label:String,shape:H("square"),leftIcon:H("search"),clearable:W,actionText:String,background:String,showAction:Boolean});var ye=q({name:ke,props:Ie,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(a,{emit:o,slots:c,attrs:r}){const d=be(),i=v(),_=()=>{c.action||(o("update:modelValue",""),o("cancel"))},x=e=>{e.keyCode===13&&(Y(e),o("search",a.modelValue))},g=()=>a.id||`${d}-input`,m=()=>{if(c.label||a.label)return n("label",{class:V("label"),for:g()},[c.label?c.label():a.label])},C=()=>{if(a.showAction){const e=a.actionText||we("cancel");return n("div",{class:V("action"),role:"button",tabindex:0,onClick:_},[c.action?c.action():e])}},B=()=>{var e;return(e=i.value)==null?void 0:e.blur()},k=()=>{var e;return(e=i.value)==null?void 0:e.focus()},h=e=>o("blur",e),t=e=>o("focus",e),l=e=>o("clear",e),u=e=>o("clickInput",e),S=e=>o("clickLeftIcon",e),F=e=>o("clickRightIcon",e),N=Object.keys(M),R=()=>{const e=$({},r,O(a,N),{id:g()}),T=E=>o("update:modelValue",E);return n(me,X({ref:i,type:"search",class:V("field",{"with-message":e.errorMessage}),border:!1,onBlur:h,onFocus:t,onClear:l,onKeypress:x,onClickInput:u,onClickLeftIcon:S,onClickRightIcon:F,"onUpdate:modelValue":T},e),O(c,["left-icon","right-icon"]))};return ge({focus:k,blur:B}),()=>{var e;return n("div",{class:V({"show-action":a.showAction}),style:{background:a.background}},[(e=c.left)==null?void 0:e.call(c),n("div",{class:V("content",a.shape)},[m(),R()]),C()])}}});const xe=Z(ye),Ce={class:"popupBottom"},Be={class:"title"},Se={class:"buttomBox"},Ve=q({__name:"popupBottom",props:{showBottom:{type:Boolean,default:!1}},emits:["showPopupFun"],setup(a,{emit:o}){const c=[{name:"安卓Q区",value:"aqq",type:"primary"},{name:"苹果Q区",value:"iqq",type:"success"},{name:"安卓V区",value:"awx",type:"warning"},{name:"苹果V区",value:"iwx",type:"danger"}],r=z();let d=G(()=>r.heroName);const i=o,_=()=>{i("showPopupFun",!1)},x=ee(),g=m=>{r.setRegionValue(m),x.push("/battle")};return(m,C)=>{const B=he,k=ve;return b(),J(k,{onClickOverlay:_,show:m.showBottom,round:"",position:"bottom",style:{height:"35%"}},{default:p(()=>[s("div",Ce,[s("div",Be,"当前查询【"+A(I(d))+"】，请选择系统",1),s("div",Se,[(b(),y(P,null,L(c,(h,t)=>n(B,{round:"",type:h.type,class:"buttomItem",key:t,onClick:l=>g(h.value)},{default:p(()=>[te(A(h.name),1)]),_:2},1032,["type","onClick"])),64))])])]),_:1},8,["show"])}}}),Pe=Q(Ve,[["__scopeId","data-v-f057b41e"]]),K=a=>(se("data-v-ee760a89"),a=a(),ce(),a),Te={class:"search_container"},Le=K(()=>s("div",{class:"textbox"},[s("span",{class:"title"},"王者荣耀战力查询"),s("span",{class:"text"},"助您更好的拿下国标")],-1)),Fe=K(()=>s("div",{class:"textbox"},[s("span",{class:"title"},"如有什么问题"),s("span",{class:"text"},"前往设置联系作者")],-1)),Ne={class:"heroList"},Re={class:"heroList"},Ee=["onClick"],Ae={class:"heroImg"},qe={class:"heroText"},De=q({__name:"index",setup(a){let o=v("");const c=["全部","战士","法师","坦克","刺客","射手","辅助"];let r=v(0),d=v(),i=v(),_=v(!1);const x=async()=>{_.value=!0;let t=await le();t.code===200?(d.value=t.data,i.value=t.data,_.value=!1):fe.info("当前网络不佳")};oe(()=>{x()});const g=t=>{var l;if(t===0){i.value=d.value;return}i.value=(l=d.value)==null?void 0:l.filter(u=>u.hero_type===t||u.hero_type2===t)},m=t=>{var u;let l=t.trim();l===""&&r.value!==0&&(r.value=0),i.value=(u=d.value)==null?void 0:u.filter(S=>S.cname.includes(l))};let C=v(!1);const B=z(),k=t=>{C.value=t},h=t=>{k(!0),B.setHeroName(t)};return(t,l)=>{const u=ue,S=re,F=xe,N=pe,R=de,e=_e,T=ie,E=ae("lazy");return b(),y(P,null,[s("div",Te,[n(S,{class:"search_swipe",autoplay:6e3,"indicator-color":"white"},{default:p(()=>[n(u,null,{default:p(()=>[Le]),_:1}),n(u,null,{default:p(()=>[Fe]),_:1})]),_:1}),n(F,{"onUpdate:modelValue":[m,l[0]||(l[0]=f=>U(o)?o.value=f:o=f)],modelValue:I(o),placeholder:"请输入搜索英雄"},null,8,["modelValue"]),n(T,{active:I(r),"onUpdate:active":l[1]||(l[1]=f=>U(r)?r.value=f:r=f),animated:"",onChange:g},{default:p(()=>[(b(),y(P,null,L(c,(f,D)=>n(e,{key:D,title:f,name:D},{default:p(()=>[n(R,{loading:I(_)},{template:p(()=>[s("div",Ne,[(b(),y(P,null,L(20,w=>n(N,{class:"heroItem",key:w})),64))])]),default:p(()=>[s("div",Re,[(b(!0),y(P,null,L(I(i),w=>(b(),y("div",{class:"heroItem",key:w.ename,onClick:He=>h(w.cname)},[ne(s("img",Ae,null,512),[[E,w.iconUrl]]),s("span",qe,A(w.cname),1)],8,Ee))),128))])]),_:2},1032,["loading"])]),_:2},1032,["title","name"])),64))]),_:1},8,["active"])]),n(Pe,{showBottom:I(C),onShowPopupFun:k},null,8,["showBottom"])],64)}}}),Ge=Q(De,[["__scopeId","data-v-ee760a89"]]);export{Ge as default};
