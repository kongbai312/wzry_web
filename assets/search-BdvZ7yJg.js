import{a4 as _e,a3 as we,a5 as Ae,a6 as Ge,r as z,a7 as Je,a8 as Qe,a9 as Pe,aa as ze,a1 as We,c as L,n as W,A as se,m as N,d as M,B as Oe,I as ce,h as k,ab as Ee,e as He,g as et,l as P,E as Se,ac as te,ad as F,G,ae as Te,H as De,a as m,w as U,t as D,u as Le,af as tt,O as xe,ag as Me,a2 as ee,X as at,ah as ge,ai as me,aj as re,C as ye,ak as nt,al as Ce,f as Ne,K as it,am as lt,an as ot,M as rt,N as st,R as ct,ao as ut,ap as dt,i as pe,W as $e,b as ft,aq as vt,F as ht}from"./index-CBCQ6Rvf.js";import{u as Fe}from"./use-id-gROM3XTf.js";import{u as ae}from"./use-expose-C8j5eqMI.js";import{o as Ue,B as gt,a as mt,r as bt}from"./use-route-CObrCZIx.js";import{B as wt}from"./_plugin-vue_export-helper-Cmma1cYV.js";import{b as yt}from"./index-l_Y4M4gX.js";import{c as St}from"./interceptor-BBcVuyCw.js";import{r as Xe}from"./request-fy6jD9Fe.js";function Tt(e,n,r){let i,c=0;const t=e.scrollLeft,d=r===0?1:Math.round(r*1e3/16);function s(){_e(i)}function u(){e.scrollLeft+=(n-t)/d,++c<d&&(i=we(u))}return u(),s}function xt(e,n,r,i){let c,t=Ae(e);const d=t<n,s=r===0?1:Math.round(r*1e3/16),u=(n-t)/s;function h(){_e(c)}function l(){t+=u,(d&&t>n||!d&&t<n)&&(t=n),Ge(e,t),d&&t<n||!d&&t>n?c=we(l):i&&(c=we(i))}return l(),h}function kt(){const e=z([]),n=[];return Je(()=>{e.value=[]}),[e,i=>(n[i]||(n[i]=c=>{e.value[i]=c}),n[i])]}function Ye(e,n){if(!Qe||!window.IntersectionObserver)return;const r=new IntersectionObserver(t=>{n(t[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&r.observe(e.value)},c=()=>{e.value&&r.unobserve(e.value)};Pe(c),ze(c),We(i)}const[Ct,$t]=L("sticky"),It={zIndex:W,position:se("top"),container:Object,offsetTop:N(0),offsetBottom:N(0)};var Rt=M({name:Ct,props:It,emits:["scroll","change"],setup(e,{emit:n,slots:r}){const i=z(),c=Oe(i),t=ce({fixed:!1,width:0,height:0,transform:0}),d=z(!1),s=k(()=>Ee(e.position==="top"?e.offsetTop:e.offsetBottom)),u=k(()=>{if(d.value)return;const{fixed:f,height:C,width:b}=t;if(f)return{width:`${b}px`,height:`${C}px`}}),h=k(()=>{if(!t.fixed||d.value)return;const f=He(et(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${s.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),l=f=>n("scroll",{scrollTop:f,isFixed:t.fixed}),S=()=>{if(!i.value||te(i))return;const{container:f,position:C}=e,b=G(i),$=Ae(window);if(t.width=b.width,t.height=b.height,C==="top")if(f){const g=G(f),O=g.bottom-s.value-t.height;t.fixed=s.value>b.top&&g.bottom>0,t.transform=O<0?O:0}else t.fixed=s.value>b.top;else{const{clientHeight:g}=document.documentElement;if(f){const O=G(f),y=g-O.top-s.value-t.height;t.fixed=g-s.value<b.bottom&&g>O.top,t.transform=y<0?-y:0}else t.fixed=g-s.value<b.bottom}l($)};return P(()=>t.fixed,f=>n("change",f)),Se("scroll",S,{target:c,passive:!0}),Ye(i,S),P([Te,De],()=>{!i.value||te(i)||!t.fixed||(d.value=!0,F(()=>{const f=G(i);t.width=f.width,t.height=f.height,d.value=!1}))}),()=>{var f;return m("div",{ref:i,style:u.value},[m("div",{class:$t({fixed:t.fixed&&!d.value}),style:h.value},[(f=r.default)==null?void 0:f.call(r)])])}}});const Bt=U(Rt),[Ze,le]=L("swipe"),_t={loop:D,width:W,height:W,vertical:Boolean,autoplay:N(0),duration:N(500),touchable:D,lazyRender:Boolean,initialSwipe:N(0),indicatorColor:String,showIndicators:D,stopPropagation:D},Ve=Symbol(Ze);var At=M({name:Ze,props:_t,emits:["change","dragStart","dragEnd"],setup(e,{emit:n,slots:r}){const i=z(),c=z(),t=ce({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const s=yt(),{children:u,linkChildren:h}=Le(Ve),l=k(()=>u.length),S=k(()=>t[e.vertical?"height":"width"]),f=k(()=>e.vertical?s.deltaY.value:s.deltaX.value),C=k(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-S.value*l.value:0),b=k(()=>S.value?Math.ceil(Math.abs(C.value)/S.value):l.value),$=k(()=>l.value*S.value),g=k(()=>(t.active+l.value)%l.value),O=k(()=>{const o=e.vertical?"vertical":"horizontal";return s.direction.value===o}),y=k(()=>{const o={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(S.value){const T=e.vertical?"height":"width",x=e.vertical?"width":"height";o[T]=`${$.value}px`,o[x]=e[x]?`${e[x]}px`:""}return o}),Z=o=>{const{active:T}=t;return o?e.loop?ge(T+o,-1,l.value):ge(T+o,0,b.value):T},V=(o,T=0)=>{let x=o*S.value;e.loop||(x=Math.min(x,-C.value));let _=T-x;return e.loop||(_=ge(_,C.value,0)),_},R=({pace:o=0,offset:T=0,emitChange:x})=>{if(l.value<=1)return;const{active:_}=t,a=Z(o),v=V(a,T);if(e.loop){if(u[0]&&v!==C.value){const w=v<C.value;u[0].setOffset(w?$.value:0)}if(u[l.value-1]&&v!==0){const w=v>0;u[l.value-1].setOffset(w?-$.value:0)}}t.active=a,t.offset=v,x&&a!==_&&n("change",g.value)},p=()=>{t.swiping=!0,t.active<=-1?R({pace:l.value}):t.active>=l.value&&R({pace:-l.value})},X=()=>{p(),s.reset(),ee(()=>{t.swiping=!1,R({pace:-1,emitChange:!0})})},J=()=>{p(),s.reset(),ee(()=>{t.swiping=!1,R({pace:1,emitChange:!0})})};let Y;const B=()=>clearTimeout(Y),K=()=>{B(),+e.autoplay>0&&l.value>1&&(Y=setTimeout(()=>{J(),K()},+e.autoplay))},E=(o=+e.initialSwipe)=>{if(!i.value)return;const T=()=>{var x,_;if(!te(i)){const a={width:i.value.offsetWidth,height:i.value.offsetHeight};t.rect=a,t.width=+((x=e.width)!=null?x:a.width),t.height=+((_=e.height)!=null?_:a.height)}l.value&&(o=Math.min(l.value-1,o),o===-1&&(o=l.value-1)),t.active=o,t.swiping=!0,t.offset=V(o),u.forEach(a=>{a.setOffset(0)}),K()};te(i)?F().then(T):T()},j=()=>E(t.active);let Q;const ue=o=>{!e.touchable||o.touches.length>1||(s.start(o),d=!1,Q=Date.now(),B(),p())},de=o=>{e.touchable&&t.swiping&&(s.move(o),O.value&&(!e.loop&&(t.active===0&&f.value>0||t.active===l.value-1&&f.value<0)||(at(o,e.stopPropagation),R({offset:f.value}),d||(n("dragStart",{index:g.value}),d=!0))))},ne=()=>{if(!e.touchable||!t.swiping)return;const o=Date.now()-Q,T=f.value/o;if((Math.abs(T)>.25||Math.abs(f.value)>S.value/2)&&O.value){const _=e.vertical?s.offsetY.value:s.offsetX.value;let a=0;e.loop?a=_>0?f.value>0?-1:1:0:a=-Math[f.value>0?"ceil":"floor"](f.value/S.value),R({pace:a,emitChange:!0})}else f.value&&R({pace:0});d=!1,t.swiping=!1,n("dragEnd",{index:g.value}),K()},fe=(o,T={})=>{p(),s.reset(),ee(()=>{let x;e.loop&&o===l.value?x=t.active===0?0:o:x=o%l.value,T.immediate?ee(()=>{t.swiping=!1}):t.swiping=!1,R({pace:x-t.active,emitChange:!0})})},ve=(o,T)=>{const x=T===g.value,_=x?{backgroundColor:e.indicatorColor}:void 0;return m("i",{style:_,class:le("indicator",{active:x})},null)},he=()=>{if(r.indicator)return r.indicator({active:g.value,total:l.value});if(e.showIndicators&&l.value>1)return m("div",{class:le("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(ve)])};return ae({prev:X,next:J,state:t,resize:j,swipeTo:fe}),h({size:S,props:e,count:l,activeIndicator:g}),P(()=>e.initialSwipe,o=>E(+o)),P(l,()=>E(t.active)),P(()=>e.autoplay,K),P([Te,De,()=>e.width,()=>e.height],j),P(tt(),o=>{o==="visible"?K():B()}),xe(E),Me(()=>E(t.active)),Ue(()=>E(t.active)),Pe(B),ze(B),Se("touchmove",de,{target:c}),()=>{var o;return m("div",{ref:i,class:le()},[m("div",{ref:c,style:y.value,class:le("track",{vertical:e.vertical}),onTouchstartPassive:ue,onTouchend:ne,onTouchcancel:ne},[(o=r.default)==null?void 0:o.call(r)]),he()])}}});const Pt=U(At),[zt,Ie]=L("tabs");var Wt=M({name:zt,props:{count:me(Number),inited:Boolean,animated:Boolean,duration:me(W),swipeable:Boolean,lazyRender:Boolean,currentIndex:me(Number)},emits:["change"],setup(e,{emit:n,slots:r}){const i=z(),c=s=>n("change",s),t=()=>{var s;const u=(s=r.default)==null?void 0:s.call(r);return e.animated||e.swipeable?m(Pt,{ref:i,loop:!1,class:Ie("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:c},{default:()=>[u]}):u},d=s=>{const u=i.value;u&&u.state.active!==s&&u.swipeTo(s,{immediate:!e.inited})};return P(()=>e.currentIndex,d),xe(()=>{d(e.currentIndex)}),ae({swipeRef:i}),()=>m("div",{class:Ie("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ke,oe]=L("tabs"),Ot={type:se("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:N(0),duration:N(.3),animated:Boolean,ellipsis:D,swipeable:Boolean,scrollspy:Boolean,offsetTop:N(0),background:String,lazyRender:D,showHeader:D,lineWidth:W,lineHeight:W,beforeChange:Function,swipeThreshold:N(5),titleActiveColor:String,titleInactiveColor:String},je=Symbol(Ke);var Et=M({name:Ke,props:Ot,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:r}){let i,c,t,d,s;const u=z(),h=z(),l=z(),S=z(),f=Fe(),C=Oe(u),[b,$]=kt(),{children:g,linkChildren:O}=Le(je),y=ce({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Z=k(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),V=k(()=>({borderColor:e.color,background:e.background})),R=(a,v)=>{var w;return(w=a.name)!=null?w:v},p=k(()=>{const a=g[y.currentIndex];if(a)return R(a,y.currentIndex)}),X=k(()=>Ee(e.offsetTop)),J=k(()=>e.sticky?X.value+i:0),Y=a=>{const v=h.value,w=b.value;if(!Z.value||!v||!w||!w[y.currentIndex])return;const A=w[y.currentIndex].$el,I=A.offsetLeft-(v.offsetWidth-A.offsetWidth)/2;d&&d(),d=Tt(v,I,a?0:+e.duration)},B=()=>{const a=y.inited;F(()=>{const v=b.value;if(!v||!v[y.currentIndex]||e.type!=="line"||te(u.value))return;const w=v[y.currentIndex].$el,{lineWidth:A,lineHeight:I}=e,H=w.offsetLeft+w.offsetWidth/2,q={width:re(A),backgroundColor:e.color,transform:`translateX(${H}px) translateX(-50%)`};if(a&&(q.transitionDuration=`${e.duration}s`),ye(I)){const ie=re(I);q.height=ie,q.borderRadius=ie}y.lineStyle=q})},K=a=>{const v=a<y.currentIndex?-1:1;for(;a>=0&&a<g.length;){if(!g[a].disabled)return a;a+=v}},E=(a,v)=>{const w=K(a);if(!ye(w))return;const A=g[w],I=R(A,w),H=y.currentIndex!==null;y.currentIndex!==w&&(y.currentIndex=w,v||Y(),B()),I!==e.active&&(n("update:active",I),H&&n("change",I,A.title)),t&&!e.scrollspy&&nt(Math.ceil(Ce(u.value)-X.value))},j=(a,v)=>{const w=g.find((I,H)=>R(I,H)===a),A=w?g.indexOf(w):0;E(A,v)},Q=(a=!1)=>{if(e.scrollspy){const v=g[y.currentIndex].$el;if(v&&C.value){const w=Ce(v,C.value)-J.value;c=!0,s&&s(),s=xt(C.value,w,a?0:+e.duration,()=>{c=!1})}}},ue=(a,v,w)=>{const{title:A,disabled:I}=g[v],H=R(g[v],v);I||(St(e.beforeChange,{args:[H],done:()=>{E(v),Q()}}),mt(a)),n("clickTab",{name:H,title:A,event:w,disabled:I})},de=a=>{t=a.isFixed,n("scroll",a)},ne=a=>{F(()=>{j(a),Q(!0)})},fe=()=>{for(let a=0;a<g.length;a++){const{top:v}=G(g[a].$el);if(v>J.value)return a===0?0:a-1}return g.length-1},ve=()=>{if(e.scrollspy&&!c){const a=fe();E(a)}},he=()=>{if(e.type==="line"&&g.length)return m("div",{class:oe("line"),style:y.lineStyle},null)},o=()=>{var a,v,w;const{type:A,border:I,sticky:H}=e,q=[m("div",{ref:H?void 0:l,class:[oe("wrap"),{[gt]:A==="line"&&I}]},[m("div",{ref:h,role:"tablist",class:oe("nav",[A,{shrink:e.shrink,complete:Z.value}]),style:V.value,"aria-orientation":"horizontal"},[(a=r["nav-left"])==null?void 0:a.call(r),g.map(ie=>ie.renderTitle(ue)),he(),(v=r["nav-right"])==null?void 0:v.call(r)])]),(w=r["nav-bottom"])==null?void 0:w.call(r)];return H?m("div",{ref:l},[q]):q},T=()=>{B(),F(()=>{var a,v;Y(!0),(v=(a=S.value)==null?void 0:a.swipeRef.value)==null||v.resize()})};P(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),P(Te,T),P(()=>e.active,a=>{a!==p.value&&j(a)}),P(()=>g.length,()=>{y.inited&&(j(e.active),B(),F(()=>{Y(!0)}))});const x=()=>{j(e.active,!0),F(()=>{y.inited=!0,l.value&&(i=G(l.value).height),Y(!0)})},_=(a,v)=>n("rendered",a,v);return ae({resize:T,scrollTo:ne}),Me(B),Ue(B),We(x),Ye(u,B),Se("scroll",ve,{target:C,passive:!0}),O({id:f,props:e,setLine:B,scrollable:Z,onRendered:_,currentName:p,setTitleRefs:$,scrollIntoView:Y}),()=>m("div",{ref:u,class:oe([e.type])},[e.showHeader?e.sticky?m(Bt,{container:u.value,offsetTop:X.value,onScroll:de},{default:()=>[o()]}):o():null,m(Wt,{ref:S,count:g.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:E},{default:()=>{var a;return[(a=r.default)==null?void 0:a.call(r)]}})])}});const Ht=Symbol(),[Dt,Re]=L("tab"),Lt=M({name:Dt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:W,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:D},setup(e,{slots:n}){const r=k(()=>{const c={},{type:t,color:d,disabled:s,isActive:u,activeColor:h,inactiveColor:l}=e;d&&t==="card"&&(c.borderColor=d,s||(u?c.backgroundColor=d:c.color=d));const f=u?h:l;return f&&(c.color=f),c}),i=()=>{const c=m("span",{class:Re("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||ye(e.badge)&&e.badge!==""?m(wt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[c]}):c};return()=>m("div",{id:e.id,role:"tab",class:[Re([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:r.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[i()])}}),[Mt,Nt]=L("swipe-item");var pt=M({name:Mt,setup(e,{slots:n}){let r;const i=ce({offset:0,inited:!1,mounted:!1}),{parent:c,index:t}=Ne(Ve);if(!c)return;const d=k(()=>{const h={},{vertical:l}=c.props;return c.size.value&&(h[l?"height":"width"]=`${c.size.value}px`),i.offset&&(h.transform=`translate${l?"Y":"X"}(${i.offset}px)`),h}),s=k(()=>{const{loop:h,lazyRender:l}=c.props;if(!l||r)return!0;if(!i.mounted)return!1;const S=c.activeIndicator.value,f=c.count.value-1,C=S===0&&h?f:S-1,b=S===f&&h?0:S+1;return r=t.value===S||t.value===C||t.value===b,r}),u=h=>{i.offset=h};return xe(()=>{F(()=>{i.mounted=!0})}),ae({setOffset:u}),()=>{var h;return m("div",{class:Nt(),style:d.value},[s.value?(h=n.default)==null?void 0:h.call(n):null])}}});const Ft=U(pt),[Ut,be]=L("tab"),Xt=He({},bt,{dot:Boolean,name:W,badge:W,title:String,disabled:Boolean,titleClass:it,titleStyle:[String,Object],showZeroBadge:D});var Yt=M({name:Ut,props:Xt,setup(e,{slots:n}){const r=Fe(),i=z(!1),c=ft(),{parent:t,index:d}=Ne(je);if(!t)return;const s=()=>{var b;return(b=e.name)!=null?b:d.value},u=()=>{i.value=!0,t.props.lazyRender&&F(()=>{t.onRendered(s(),e.title)})},h=k(()=>{const b=s()===t.currentName.value;return b&&!i.value&&u(),b}),l=z(""),S=z("");lt(()=>{const{titleClass:b,titleStyle:$}=e;l.value=b?ct(b):"",S.value=$&&typeof $!="string"?ut(dt($)):$});const f=b=>m(Lt,pe({key:r,id:`${t.id}-${d.value}`,ref:t.setTitleRefs(d.value),style:S.value,class:l.value,isActive:h.value,controls:r,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:$=>b(c.proxy,d.value,$)},$e(t.props,["type","color","shrink"]),$e(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),C=z(!h.value);return P(h,b=>{b?C.value=!1:ee(()=>{C.value=!0})}),P(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),ot(Ht,h),ae({id:r,renderTitle:f}),()=>{var b;const $=`${t.id}-${d.value}`,{animated:g,swipeable:O,scrollspy:y,lazyRender:Z}=t.props;if(!n.default&&!g)return;const V=y||h.value;if(g||O)return m(Ft,{id:r,role:"tabpanel",class:be("panel-wrapper",{inactive:C.value}),tabindex:h.value?0:-1,"aria-hidden":!h.value,"aria-labelledby":$},{default:()=>{var X;return[m("div",{class:be("panel")},[(X=n.default)==null?void 0:X.call(n)])]}});const p=i.value||y||!Z?(b=n.default)==null?void 0:b.call(n):null;return rt(m("div",{id:r,role:"tabpanel",class:be("panel"),tabindex:V?0:-1,"aria-labelledby":$},[p]),[[st,V]])}}});const xa=U(Yt),ka=U(Et),[Zt,Vt]=L("skeleton-title"),Kt={round:Boolean,titleWidth:W};var jt=M({name:Zt,props:Kt,setup(e){return()=>m("h3",{class:Vt([{round:e.round}]),style:{width:re(e.titleWidth)}},null)}});const qt=U(jt);var Gt=qt;const[Jt,Qt]=L("skeleton-avatar"),ea={avatarSize:W,avatarShape:se("round")};var ta=M({name:Jt,props:ea,setup(e){return()=>m("div",{class:Qt([e.avatarShape]),style:vt(e.avatarSize)},null)}});const aa=U(ta);var na=aa;const ke="100%",ia={round:Boolean,rowWidth:{type:W,default:ke}},[la,oa]=L("skeleton-paragraph");var ra=M({name:la,props:ia,setup(e){return()=>m("div",{class:oa([{round:e.round}]),style:{width:e.rowWidth}},null)}});const sa=U(ra);var ca=sa;const[ua,Be]=L("skeleton"),da="60%",fa={row:N(0),round:Boolean,title:Boolean,titleWidth:W,avatar:Boolean,avatarSize:W,avatarShape:se("round"),loading:D,animate:D,rowWidth:{type:[Number,String,Array],default:ke}};var va=M({name:ua,inheritAttrs:!1,props:fa,setup(e,{slots:n,attrs:r}){const i=()=>{if(e.avatar)return m(na,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},c=()=>{if(e.title)return m(Gt,{round:e.round,titleWidth:e.titleWidth},null)},t=u=>{const{rowWidth:h}=e;return h===ke&&u===+e.row-1?da:Array.isArray(h)?h[u]:h},d=()=>Array(+e.row).fill("").map((u,h)=>m(ca,{key:h,round:e.round,rowWidth:re(t(h))},null)),s=()=>n.template?n.template():m(ht,null,[i(),m("div",{class:Be("content")},[c(),d()])]);return()=>{var u;return e.loading?m("div",pe({class:Be({animate:e.animate,round:e.round})},r),[s()]):(u=n.default)==null?void 0:u.call(n)}}});const Ca=U(va),qe="https://www.sapi.run",$a=()=>Xe({url:qe+"/hero/getHeroList.php",method:"get"}),Ia=(e,n)=>Xe({url:qe+"/hero/select.php",method:"get",params:{hero:e,type:n}});export{Pt as S,ka as T,Ft as a,sa as b,Ca as c,xa as d,Ia as e,$a as g};
