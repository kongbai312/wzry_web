import{c as ie,e as ne,A as E,n as te,d as Y,a as l,B as Q,w as se,C as Fe,D as Oe,E as qe,G as We,j as He,m as Ue,H as je,I as Ke,r as R,f as Qe,h as D,J as fe,K as Ye,L as Je,l as Ge,M as X,N as _e,O as Xe,P as q,Q as ge,R as Ze,i as ye,s as pe,S as et,t as tt,T as me,U as ke,o as F,p as nt,q as A,V as at,W as k,X as le,v as H,z as U,Y as Z,F as K,Z as ot,x as he,_ as lt,$ as it,a0 as st}from"./index-B_UMJman.js";import{L as rt,u as Ie,a as Se,P as ct,g as ut,m as dt,S as ft,T as gt,b as mt,c as ht,d as vt,e as bt}from"./vantTool-Bv88m_NI.js";import{c as _t,C as yt}from"./index-Bjn_3dMp.js";import{r as pt,u as kt,I as ee}from"./index-XktegsXt.js";import{a as It,F as St}from"./on-popup-reopen-zzsdtNT_.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const[xt,W]=ie("button"),Ct=ne({},pt,{tag:E("button"),text:String,icon:String,type:E("default"),size:E("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:E("button"),loadingSize:te,loadingText:String,loadingType:String,iconPosition:E("left")});var wt=Y({name:xt,props:Ct,emits:["click"],setup(e,{emit:n,slots:a}){const d=kt(),o=()=>a.loading?a.loading():l(rt,{size:e.loadingSize,type:e.loadingType,class:W("loading")},null),c=()=>{if(e.loading)return o();if(a.icon)return l("div",{class:W("icon")},[a.icon()]);if(e.icon)return l(ee,{name:e.icon,class:W("icon"),classPrefix:e.iconPrefix},null)},I=()=>{let u;if(e.loading?u=e.loadingText:u=a.default?a.default():e.text,u)return l("span",{class:W("text")},[u])},C=()=>{const{color:u,plain:f}=e;if(u){const y={color:f?u:"white"};return f||(y.background=u),u.includes("gradient")?y.border=0:y.borderColor=u,y}},h=u=>{e.loading?Q(u):e.disabled||(n("click",u),d())};return()=>{const{tag:u,type:f,size:y,block:w,round:T,plain:g,square:v,loading:_,disabled:V,hairline:L,nativeType:$,iconPosition:B}=e,i=[W([f,y,{plain:g,block:w,round:T,square:v,loading:_,disabled:V,hairline:L}]),{[It]:L}];return l(u,{type:$,class:i,style:C(),disabled:V,onClick:h},{default:()=>[l("div",{class:W("content")},[B==="left"&&c(),I(),B==="right"&&c()])]})}}});const Tt=se(wt);function Ce(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Vt(e,n){if(Ce(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Bt(e,n){return new Promise(a=>{const d=n.validator(e,n);if(qe(d)){d.then(a);return}a(d)})}function ve(e,n){const{message:a}=n;return We(a)?a(e,n):a||""}function Pt({target:e}){e.composing=!0}function be({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Et(e,n){const a=Fe();e.style.height="auto";let d=e.scrollHeight;if(He(n)){const{maxHeight:o,minHeight:c}=n;o!==void 0&&(d=Math.min(d,o)),c!==void 0&&(d=Math.max(d,c))}d&&(e.style.height=`${d}px`,Oe(a))}function Lt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function M(e){return[...e].length}function oe(e,n){return[...e].slice(0,n).join("")}const[Rt,x]=ie("field"),re={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:te,formatter:Function,clearIcon:E("clear"),modelValue:Ue(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:E("focus"),formatTrigger:E("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},Mt=ne({},_t,re,{rows:te,type:E("text"),rules:Array,autosize:[Boolean,Object],labelWidth:te,labelClass:je,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var At=Y({name:Rt,props:Mt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:a}){const d=Ie(),o=Ke({status:"unvalidated",focused:!1,validateMessage:""}),c=R(),I=R(),C=R(),{parent:h}=Qe(St),u=()=>{var t;return String((t=e.modelValue)!=null?t:"")},f=t=>{if(q(e[t]))return e[t];if(h&&q(h.props[t]))return h.props[t]},y=D(()=>{const t=f("readonly");if(e.clearable&&!t){const s=u()!=="",r=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return s&&r}return!1}),w=D(()=>C.value&&a.input?C.value():e.modelValue),T=D(()=>{var t;const s=f("required");return s==="auto"?(t=e.rules)==null?void 0:t.some(r=>r.required):s}),g=t=>t.reduce((s,r)=>s.then(()=>{if(o.status==="failed")return;let{value:m}=w;if(r.formatter&&(m=r.formatter(m,r)),!Vt(m,r)){o.status="failed",o.validateMessage=ve(m,r);return}if(r.validator)return Ce(m)&&r.validateEmpty===!1?void 0:Bt(m,r).then(b=>{b&&typeof b=="string"?(o.status="failed",o.validateMessage=b):b===!1&&(o.status="failed",o.validateMessage=ve(m,r))})}),Promise.resolve()),v=()=>{o.status="unvalidated",o.validateMessage=""},_=()=>n("endValidate",{status:o.status,message:o.validateMessage}),V=(t=e.rules)=>new Promise(s=>{v(),t?(n("startValidate"),g(t).then(()=>{o.status==="failed"?(s({name:e.name,message:o.validateMessage}),_()):(o.status="passed",s(),_())})):s()}),L=t=>{if(h&&e.rules){const{validateTrigger:s}=h.props,r=ge(s).includes(t),m=e.rules.filter(b=>b.trigger?ge(b.trigger).includes(t):r);m.length&&V(m)}},$=t=>{var s;const{maxlength:r}=e;if(q(r)&&M(t)>+r){const m=u();if(m&&M(m)===+r)return m;const b=(s=c.value)==null?void 0:s.selectionEnd;if(o.focused&&b){const p=[...t],P=p.length-+r;return p.splice(b-P,P),p.join("")}return oe(t,+r)}return t},B=(t,s="onChange")=>{const r=t;t=$(t);const m=M(r)-M(t);if(e.type==="number"||e.type==="digit"){const p=e.type==="number";t=Ze(t,p,p)}let b=0;if(e.formatter&&s===e.formatTrigger){const{formatter:p,maxlength:P}=e;if(t=p(t),q(P)&&M(t)>+P&&(t=oe(t,+P)),c.value&&o.focused){const{selectionEnd:G}=c.value,de=oe(r,G);b=M(p(de))-M(de)}}if(c.value&&c.value.value!==t)if(o.focused){let{selectionStart:p,selectionEnd:P}=c.value;if(c.value.value=t,q(p)&&q(P)){const G=M(t);m?(p-=m,P-=m):b&&(p+=b,P+=b),c.value.setSelectionRange(Math.min(p,G),Math.min(P,G))}}else c.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},i=t=>{t.target.composing||B(t.target.value)},N=()=>{var t;return(t=c.value)==null?void 0:t.blur()},O=()=>{var t;return(t=c.value)==null?void 0:t.focus()},S=()=>{const t=c.value;e.type==="textarea"&&e.autosize&&t&&Et(t,e.autosize)},J=t=>{o.focused=!0,n("focus",t),X(S),f("readonly")&&N()},z=t=>{o.focused=!1,B(u(),"onBlur"),n("blur",t),!f("readonly")&&(L("onBlur"),X(S),et())},ae=t=>n("clickInput",t),Te=t=>n("clickLeftIcon",t),Ve=t=>n("clickRightIcon",t),Be=t=>{Q(t),n("update:modelValue",""),n("clear",t)},ce=D(()=>{if(typeof e.error=="boolean")return e.error;if(h&&h.props.showError&&o.status==="failed")return!0}),Pe=D(()=>{const t=f("labelWidth"),s=f("labelAlign");if(t&&s!=="top")return{width:fe(t)}}),Ee=t=>{t.keyCode===13&&(!(h&&h.props.submitOnEnter)&&e.type!=="textarea"&&Q(t),e.type==="search"&&N()),n("keypress",t)},ue=()=>e.id||`${d}-input`,Le=()=>o.status,Re=()=>{const t=x("control",[f("inputAlign"),{error:ce.value,custom:!!a.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(a.input)return l("div",{class:t,onClick:ae},[a.input()]);const s={id:ue(),ref:c,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${d}-label`:void 0,onBlur:z,onFocus:J,onInput:i,onClick:ae,onChange:be,onKeypress:Ee,onCompositionend:be,onCompositionstart:Pt};return e.type==="textarea"?l("textarea",s,null):l("input",ye(Lt(e.type),s),null)},Me=()=>{const t=a["left-icon"];if(e.leftIcon||t)return l("div",{class:x("left-icon"),onClick:Te},[t?t():l(ee,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Ae=()=>{const t=a["right-icon"];if(e.rightIcon||t)return l("div",{class:x("right-icon"),onClick:Ve},[t?t():l(ee,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ne=()=>{if(e.showWordLimit&&e.maxlength){const t=M(u());return l("div",{class:x("word-limit")},[l("span",{class:x("word-num")},[t]),pe("/"),e.maxlength])}},ze=()=>{if(h&&h.props.showErrorMessage===!1)return;const t=e.errorMessage||o.validateMessage;if(t){const s=a["error-message"],r=f("errorMessageAlign");return l("div",{class:x("error-message",r)},[s?s({message:t}):t])}},$e=()=>{const t=f("labelWidth"),s=f("labelAlign"),r=f("colon")?":":"";if(a.label)return[a.label(),r];if(e.label)return l("label",{id:`${d}-label`,for:a.input?void 0:ue(),onClick:m=>{Q(m),O()},style:s==="top"&&t?{width:fe(t)}:void 0},[e.label+r])},De=()=>[l("div",{class:x("body")},[Re(),y.value&&l(ee,{ref:I,name:e.clearIcon,class:x("clear")},null),Ae(),a.button&&l("div",{class:x("button")},[a.button()])]),Ne(),ze()];return Se({blur:N,focus:O,validate:V,formValue:w,resetValidation:v,getValidationStatus:Le}),Ye(Je,{customValue:C,resetValidation:v,validateWithTrigger:L}),Ge(()=>e.modelValue,()=>{B(u()),v(),L("onChange"),X(S)}),_e(()=>{B(u(),e.formatTrigger),X(S)}),Xe("touchstart",Be,{target:D(()=>{var t;return(t=I.value)==null?void 0:t.$el})}),()=>{const t=f("disabled"),s=f("labelAlign"),r=Me(),m=()=>{const b=$e();return s==="top"?[r,b].filter(Boolean):b||[]};return l(yt,{size:e.size,class:x({error:ce.value,disabled:t,[`label-${s}`]:s}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Pe.value,valueClass:x("value"),titleClass:[x("label",[s,{required:T.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:r&&s!=="top"?()=>r:null,title:m,value:De,extra:a.extra})}}});const Nt=se(At),[zt,j,$t]=ie("search"),Dt=ne({},re,{label:String,shape:E("square"),leftIcon:E("search"),clearable:tt,actionText:String,background:String,showAction:Boolean});var Ft=Y({name:zt,props:Dt,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:a,attrs:d}){const o=Ie(),c=R(),I=()=>{a.action||(n("update:modelValue",""),n("cancel"))},C=i=>{i.keyCode===13&&(Q(i),n("search",e.modelValue))},h=()=>e.id||`${o}-input`,u=()=>{if(a.label||e.label)return l("label",{class:j("label"),for:h()},[a.label?a.label():e.label])},f=()=>{if(e.showAction){const i=e.actionText||$t("cancel");return l("div",{class:j("action"),role:"button",tabindex:0,onClick:I},[a.action?a.action():i])}},y=()=>{var i;return(i=c.value)==null?void 0:i.blur()},w=()=>{var i;return(i=c.value)==null?void 0:i.focus()},T=i=>n("blur",i),g=i=>n("focus",i),v=i=>n("clear",i),_=i=>n("clickInput",i),V=i=>n("clickLeftIcon",i),L=i=>n("clickRightIcon",i),$=Object.keys(re),B=()=>{const i=ne({},d,me(e,$),{id:h()}),N=O=>n("update:modelValue",O);return l(Nt,ye({ref:c,type:"search",class:j("field",{"with-message":i.errorMessage}),border:!1,onBlur:T,onFocus:g,onClear:v,onKeypress:C,onClickInput:_,onClickLeftIcon:V,onClickRightIcon:L,"onUpdate:modelValue":N},i),me(a,["left-icon","right-icon"]))};return Se({focus:w,blur:y}),()=>{var i;return l("div",{class:j({"show-action":e.showAction}),style:{background:e.background}},[(i=a.left)==null?void 0:i.call(a),l("div",{class:j("content",e.shape)},[u(),B()]),f()])}}});const Ot=se(Ft),qt={class:"popupBottom"},Wt={class:"title"},Ht={class:"buttomBox"},Ut=Y({__name:"popupBottom",props:{showBottom:{type:Boolean,default:!1}},emits:["showPopupFun"],setup(e,{emit:n}){const a=[{name:"安卓Q区",value:"aqq",type:"primary"},{name:"苹果Q区",value:"iqq",type:"success"},{name:"安卓V区",value:"awx",type:"warning"},{name:"苹果V区",value:"iwx",type:"danger"}],d=ke();let o=D(()=>d.heroName);const c=n,I=()=>{c("showPopupFun",!1)},C=at(),h=u=>{d.setRegionValue(u),C.push("/battle")};return(u,f)=>{const y=Tt,w=ct;return F(),nt(w,{onClickOverlay:I,show:u.showBottom,round:"",position:"bottom",style:{height:"35%"}},{default:A(()=>[k("div",qt,[k("div",Wt,"当前查询【"+le(H(o))+"】，请选择系统",1),k("div",Ht,[(F(),U(K,null,Z(a,(T,g)=>l(y,{round:"",type:T.type,class:"buttomItem",key:g,onClick:v=>h(T.value)},{default:A(()=>[pe(le(T.name),1)]),_:2},1032,["type","onClick"])),64))])])]),_:1},8,["show"])}}}),jt=xe(Ut,[["__scopeId","data-v-f057b41e"]]),we=e=>(it("data-v-ee760a89"),e=e(),st(),e),Kt={class:"search_container"},Qt=we(()=>k("div",{class:"textbox"},[k("span",{class:"title"},"王者荣耀战力查询"),k("span",{class:"text"},"助您更好的拿下国标")],-1)),Yt=we(()=>k("div",{class:"textbox"},[k("span",{class:"title"},"如有什么问题"),k("span",{class:"text"},"前往设置联系作者")],-1)),Jt={class:"heroList"},Gt={class:"heroList"},Xt=["onClick"],Zt={class:"heroImg"},en={class:"heroText"},tn=Y({__name:"index",setup(e){let n=R("");const a=["全部","战士","法师","坦克","刺客","射手","辅助"];let d=R(0),o=R(),c=R(),I=R(!1);const C=async()=>{I.value=!0;let g=await ut();g.code===200?(o.value=g.data,c.value=g.data,I.value=!1):dt.info("当前网络不佳")};_e(()=>{C()});const h=g=>{var v;if(g===0){c.value=o.value;return}c.value=(v=o.value)==null?void 0:v.filter(_=>_.hero_type===g||_.hero_type2===g)},u=g=>{var _;let v=g.trim();v===""&&d.value!==0&&(d.value=0),c.value=(_=o.value)==null?void 0:_.filter(V=>V.cname.includes(v))};let f=R(!1);const y=ke(),w=g=>{f.value=g},T=g=>{w(!0),y.setHeroName(g)};return(g,v)=>{const _=mt,V=ft,L=Ot,$=ht,B=vt,i=bt,N=gt,O=ot("lazy");return F(),U(K,null,[k("div",Kt,[l(V,{class:"search_swipe",autoplay:6e3,"indicator-color":"white"},{default:A(()=>[l(_,null,{default:A(()=>[Qt]),_:1}),l(_,null,{default:A(()=>[Yt]),_:1})]),_:1}),l(L,{"onUpdate:modelValue":[u,v[0]||(v[0]=S=>he(n)?n.value=S:n=S)],modelValue:H(n),placeholder:"请输入搜索英雄"},null,8,["modelValue"]),l(N,{active:H(d),"onUpdate:active":v[1]||(v[1]=S=>he(d)?d.value=S:d=S),animated:"",onChange:h},{default:A(()=>[(F(),U(K,null,Z(a,(S,J)=>l(i,{key:J,title:S,name:J},{default:A(()=>[l(B,{loading:H(I)},{template:A(()=>[k("div",Jt,[(F(),U(K,null,Z(20,z=>l($,{class:"heroItem",key:z})),64))])]),default:A(()=>[k("div",Gt,[(F(!0),U(K,null,Z(H(c),z=>(F(),U("div",{class:"heroItem",key:z.ename,onClick:ae=>T(z.cname)},[lt(k("img",Zt,null,512),[[O,z.iconUrl]]),k("span",en,le(z.cname),1)],8,Xt))),128))])]),_:2},1032,["loading"])]),_:2},1032,["title","name"])),64))]),_:1},8,["active"])]),l(jt,{showBottom:H(f),onShowPopupFun:w},null,8,["showBottom"])],64)}}}),cn=xe(tn,[["__scopeId","data-v-ee760a89"]]);export{cn as default};
