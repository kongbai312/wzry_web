import{j as W,d as R,b as l,F as U,t as j,m as L,k as J,r as u,l as H,n as K,o as C,g as N,f as s,p as t,q as _,a as x,s as T,i as Q,v as X,c as Y}from"./index-M4brf8cj.js";import{C as Z}from"./index-uSd81ZUp.js";import{D as tt,a as et}from"./index-C2nGsrtI.js";import{N as at}from"./index-D4Yx5tMP.js";import{r as V}from"./request-B4_BNjoj.js";import{I as nt,_ as ot}from"./_plugin-vue_export-helper-BQC3p5UF.js";import{u as st}from"./index-QNMI0kE-.js";import{B as lt}from"./use-route-BrlykrmF.js";import"./use-expose-DPr-92Zh.js";import"./use-id-Bia0DeqN.js";import"./interceptor-F55hFJrP.js";const[it,A]=W("cell-group"),rt={title:String,inset:Boolean,border:j};var ct=R({name:it,inheritAttrs:!1,props:rt,setup(n,{slots:i,attrs:m}){const p=()=>{var r;return l("div",L({class:[A({inset:n.inset}),{[lt]:n.border&&!n.inset}]},m,st()),[(r=i.default)==null?void 0:r.call(i)])},w=()=>l("div",{class:A("title",{inset:n.inset})},[i.title?i.title():n.title]);return()=>n.title||i.title?l(U,null,[w(),p()]):p()}});const ut=J(ct),M="https://api.vvhan.com",dt=()=>V({url:M+"/api/weather",method:"get"}),_t=n=>V({url:M+"/api/hotlist/"+n,method:"get"}),mt={class:"homeBox"},pt={class:"weather_container"},vt={class:"weather_Item"},ht={class:"text"},ft={class:"weather_Item"},xt={class:"text"},wt={class:"weather_Item"},gt={class:"text"},It={class:"hot_container"},Ct={class:"top"},bt={class:"top_title"},Bt={class:"title"},Dt={class:"top_right"},kt={class:"cellItem_title"},yt=R({__name:"index",setup(n){let i=u("O.o？"),m=u(),p=u();const w=async()=>{let e=await dt();e.success===!0&&(m.value=e.data,p.value=e.air,i.value=`当前位于：${e.city}`)};H(()=>{w()});const r=u(0),v=[{text:"微博热搜",value:0,name:"wbHot"},{text:"抖音热点",value:1,name:"douyinHot"},{text:"百度热搜",value:2,name:"baiduRD"},{text:"知乎热点",value:3,name:"zhihuHot"},{text:"今日头条",value:4,name:"toutiao"},{text:"知乎日报",value:5,name:"zhihuDay"},{text:"B站日榜",value:6,name:"bili"}],P=e=>{D(v[e].name)};let g=u(!1);const b=()=>{g.value=!g.value};let B=u();const D=async e=>{var d;let a=await _t(e);B.value=(d=a.data)==null?void 0:d.map(c=>({index:c.index,hot:c.hot,mobileUrl:c.mobilUrl,url:c.url,title:c.title}))};H(()=>{D(v[r.value].name)});let h=u(0),q=K(()=>{var d;let e=h.value*10,a=e+10;return(d=B.value)==null?void 0:d.slice(e,a)}),I=u(!1),f=null;const z=()=>{I.value=!0,h.value++,h.value===3&&(h.value=0),f&&clearTimeout(f),f=setTimeout(()=>{I.value=!1,f=null},300)},G=e=>{window.open(e.mobileUrl,"_blank")};return(e,a)=>{var k,y,O;const d=at,c=nt,S=et,$=tt,E=Z,F=ut;return C(),N("div",mt,[l(d,{class:"home_noticeBar","left-icon":"volume-o",text:s(i)},null,8,["text"]),t("div",pt,[a[4]||(a[4]=t("div",{class:"weather_img"},[t("svg",{"aria-hidden":"true"},[t("use",{href:"#icon-weather-cloudy"})])],-1)),t("div",vt,[a[1]||(a[1]=t("span",{class:"title"},"空气质量",-1)),t("span",ht,_((k=s(p))==null?void 0:k.aqi_name),1)]),t("div",ft,[a[2]||(a[2]=t("span",{class:"title"},"最低气温",-1)),t("span",xt,_((y=s(m))==null?void 0:y.low),1)]),t("div",wt,[a[3]||(a[3]=t("span",{class:"title"},"最高气温",-1)),t("span",gt,_((O=s(m))==null?void 0:O.high),1)])]),t("div",It,[t("div",Ct,[l($,null,{default:x(()=>[l(S,{modelValue:s(r),"onUpdate:modelValue":a[0]||(a[0]=o=>Q(r)?r.value=o:null),options:v,onOpen:b,onClose:b,onChange:P},{title:x(()=>[t("div",bt,[t("div",Bt,_(v[s(r)].text),1),l(c,{name:s(g)?"arrow-down":"arrow"},null,8,["name"])])]),_:1},8,["modelValue"])]),_:1}),t("div",Dt,[l(c,{name:"replay",class:T(["right_icon",{right_icon_rotate:s(I)}])},null,8,["class"]),t("span",{onClick:z},"换一批")])]),l(F,null,{default:x(()=>[(C(!0),N(U,null,X(s(q),o=>(C(),Y(E,{key:o.index,title:o.title,"title-class":"cellItem_titleBox",onClick:Ot=>G(o)},{title:x(()=>[t("span",{class:T(["cellItem_index",o.index<=3?`hot_class_${o.index}`:""])},_(o.index),3),t("span",kt,_(o.title),1)]),_:2},1032,["title","onClick"]))),128))]),_:1})])])}}}),Gt=ot(yt,[["__scopeId","data-v-3950480c"]]);export{Gt as default};
